(this.webpackJsonpjobtrackify=this.webpackJsonpjobtrackify||[]).push([[6],{313:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(0),l=a(19),o=a(99),c=a(94),i=a(55),s=a(56),m=a(98),u=a(15),d=a(256),p=a(257),b=a(284),E=a(294),g=a.n(E),f=(a(288),a(252)),h=a(81),O=a(218),v=a(225),C=a(298),j=a.n(C),y=a(278),x=a(272),N=a(270),S=a(269),B=a(277),I=a(6),A=a(315),J=a(219),T=a(69),D=Object(i.a)([o.c.GET_BOARD_COLUMNS]),w=Object(s.a)([o.c.GET_BOARD_COLUMNS]),G=Object(l.connect)((function(e){return{boardColumns:e.boardColumn.boardColumns,isLoading:D(e),error:w(e)}}),(function(e){return{dispatchGetBoardColumns:function(){return e(o.a.getBoardColumns())},dispatchClearErrors:function(){return e(o.a.clearErrors())}}}))((function(e){var t=e.className,a=e.handleSelect,n=e.defaultValue,l=e.boardColumns,o=e.isLoading,c=e.error,i=e.dispatchGetBoardColumns,s=e.dispatchClearErrors;return r.useEffect((function(){null===l&&i()}),[l,i]),c&&Object(T.a)("Error",c,"danger",s),r.createElement(A.a,{id:"boardcolumn-select",onChange:function(e,t){a(t)},defaultValue:n,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.title},options:l||[],loading:o,renderInput:function(e){return r.createElement(B.a,Object.assign({},e,{className:t,label:"Board Column",variant:"outlined",InputProps:Object(I.a)(Object(I.a)({},e.InputProps),{},{endAdornment:r.createElement(r.Fragment,null,o?r.createElement(J.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},fullWidth:!0})})),P=a(120),W=a(310),L=a(297),k=a.n(L),_=a(279),z=Object(O.a)((function(e){return Object(v.a)({sm:{width:e.spacing(3),height:e.spacing(3)},lg:{width:e.spacing(7),height:e.spacing(7)},xl:{width:e.spacing(10),height:e.spacing(10)}})})),M=function(e){var t=e.name,a=e.color,n=e.size,l=z(),o=n&&l[n];if(t.length<=0)return null;var c=t.charAt(0),i=t.split(" ");i.length>1&&(c=i[0].charAt(0)+i[1].charAt(0));var s=a||function(e){if(!e)return"#1976d2";for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n=(16777215&t).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n}(t);return r.createElement(_.a,{className:o,style:{backgroundColor:s}},c)},U=Object(O.a)((function(e){return Object(v.a)({sm:{width:e.spacing(3),height:e.spacing(3)},lg:{width:e.spacing(7),height:e.spacing(7)},xl:{width:e.spacing(10),height:e.spacing(10)}})})),R=function(e){var t=e.company,a=e.size,n=U(),l=a&&n[a];return t&&t.logo?r.createElement(_.a,{className:l,alt:"companylogo",src:t.logo}):r.createElement(M,{size:a,name:t.name,"aria-label":"company-logo"})},F=Object(i.a)([P.c.GET_COMPANIES]),V=Object(s.a)([P.c.GET_COMPANIES]),H=Object(l.connect)((function(e){return{companies:e.company.companies,isLoading:F(e),error:V(e)}}),(function(e){return{dispatchGetCompanies:function(){return e(P.a.getCompanies())},dispatchClearErrors:function(){return e(P.a.clearErrors())}}}))((function(e){var t=e.className,a=e.handleSelect,l=e.companies,o=e.isLoading,c=e.error,i=e.dispatchGetCompanies,s=e.dispatchClearErrors,m=r.useState(null),u=Object(n.a)(m,2),d=u[0],p=u[1];return r.useEffect((function(){null===l&&i()}),[l,i]),c&&Object(T.a)("Error",c,"danger",s),r.createElement(A.a,{id:"company-select",onChange:function(e,t){p(t),a(t)},getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},options:l||[],loading:o,renderInput:function(e){return r.createElement(B.a,Object.assign({},e,{className:t,label:"Company",placeholder:"Select a company...",variant:"outlined",InputProps:Object(I.a)(Object(I.a)({},e.InputProps),{},{startAdornment:r.createElement(W.a,{position:"start"},d?r.createElement(R,{company:d}):r.createElement(k.a,null)),endAdornment:r.createElement(r.Fragment,null,o?r.createElement(J.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},fullWidth:!0})})),q=a(33),K=Object(O.a)((function(e){return Object(v.a)({marginTop:{marginTop:e.spacing(3)}})})),Q={board:"",company:"",title:"",boardColumn:""},X=Object(l.connect)((function(e){return{selectedBoard:e.dashboard.board}}),(function(e){return{dispatchCreateJob:function(t){return e(c.a.createJob(t))}}}))((function(e){var t=e.open,a=e.boardColumn,l=e.onClose,o=e.selectedBoard,c=e.dispatchCreateJob,i=K(),s=Object(q.b)(Q),m=Object(n.a)(s,2),u=m[0],d=m[1];r.useEffect((function(){t&&o&&a&&d({board:o.id,boardColumn:a.id})}),[a,t,o,d]);return r.createElement(y.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:l,"aria-labelledby":"form-dialog-title"},r.createElement(S.a,{id:"form-dialog-title"},"Add Job"),r.createElement(N.a,null,r.createElement(B.a,{autoFocus:!0,margin:"dense",name:"title",label:"Job Title",type:"text",onChange:function(e){Object(q.a)(e,d)},fullWidth:!0}),r.createElement(H,{className:i.marginTop,handleSelect:function(e){d({company:e&&e.id||""})}}),r.createElement(G,{className:i.marginTop,handleSelect:function(e){d({boardColumn:e&&e.id||""})},defaultValue:a})),r.createElement(x.a,null,r.createElement(f.a,{onClick:l,color:"default"},"Cancel"),r.createElement(f.a,{onClick:function(e){e.preventDefault(),c(u),d(Q),l()},color:"primary"},"Create")))})),Y=Object(O.a)((function(e){return Object(v.a)({title:{fontSize:16},subTitle:{fontSize:14,marginBottom:12},marginTop:{marginTop:e.spacing(1)},column:{maxHeight:"70vh"}})})),Z=function(e){var t=e.boardColumn,a=e.jobCount,l=e.children,o=r.useState(!1),c=Object(n.a)(o,2),i=c[0],s=c[1],m=Y();return r.createElement(r.Fragment,null,r.createElement(X,{open:i,onClose:function(){s(!1)},boardColumn:t}),r.createElement(d.a,null,r.createElement(p.a,null,r.createElement(h.a,{className:m.title,color:"textPrimary"},t.title),r.createElement(h.a,{className:m.subTitle,color:"textSecondary"},a," job",1!==a&&"s"),r.createElement(f.a,{onClick:function(){return s(!0)},variant:"outlined",color:"primary",startIcon:r.createElement(j.a,null),fullWidth:!0},"ADD JOB"),r.createElement(b.c,{droppableId:t.id},(function(e){return r.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:m.marginTop}),r.createElement(g.a,null,r.createElement("div",{className:m.column},l,e.placeholder)))})))))},$=a(255),ee=a(262),te=a(41),ae=a(301),ne=a(271),re=a(4),le=a(261),oe=a(300),ce=a.n(oe),ie=a(314),se=a(311),me=a(299),ue=Object(re.a)((function(e){return Object(v.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(ae.a)(e,["children","classes","onClose"]);return r.createElement(S.a,Object.assign({disableTypography:!0,className:a.root},l),r.createElement(h.a,{variant:"h6"},t),n?r.createElement(le.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.createElement(ce.a,null)):null)})),de=function(e){var t=e.children,a=e.value,n=e.index,l=Object(ae.a)(e,["children","value","index"]);return r.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),a===n&&r.createElement(r.Fragment,null,t))},pe=function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}},be=Object(O.a)((function(e){return Object(v.a)({root:{marginBottom:e.spacing(2)},modalContent:{paddingBottom:e.spacing(4)},label:{paddingTop:"6px",fontSize:"16px",fontWeight:600},editabletext:{fontSize:"16px",fontWeight:400},textareaWrapper:{paddingTop:"10px !important"},textarea:{padding:e.spacing(1),fontWeight:400}})})),Ee=Object(l.connect)(null,(function(e){return{dispatchUpdateJob:function(t,a){return e(c.a.updateJob(t,a))}}}))((function(e){var t=e.open,a=e.onClose,l=e.job,o=e.dispatchUpdateJob,c=be(),i=r.useState(0),s=Object(n.a)(i,2),m=s[0],u=s[1],d=function(e){var t=e.name,a=e.value;l&&o(l.id,Object(te.a)({},t,a))};return l&&r.createElement(y.a,{open:t,onClose:a,"aria-labelledby":"job-modal"},r.createElement(ue,{id:"job-modal",onClose:a},l.company.name),r.createElement(N.a,{className:c.modalContent,dividers:!0},r.createElement(ee.a,{className:c.root,container:!0,spacing:3,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.createElement(ee.a,{item:!0},r.createElement(R,{company:l.company,size:"xl"})),r.createElement(ee.a,{item:!0},r.createElement(h.a,{variant:"h4",color:"textPrimary"},l.company.name),r.createElement(h.a,{variant:"h6",color:"textSecondary"},l.title))),r.createElement(ie.a,{className:c.root,value:m,onChange:function(e,t){u(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.createElement(se.a,Object.assign({label:"Info"},pe(0))),r.createElement(se.a,Object.assign({label:"Notes"},pe(1))),r.createElement(se.a,Object.assign({label:"Interviews"},pe(2)))),r.createElement(de,{value:m,index:0},r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{item:!0,sm:3},r.createElement(h.a,{className:c.label},"Company:")),r.createElement(ee.a,{item:!0,sm:9},r.createElement(me.a,{className:c.editabletext,value:l.company.name,readonly:!0}))),r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{item:!0,sm:3},r.createElement(h.a,{className:c.label},"Job Title:")),r.createElement(ee.a,{item:!0,sm:9},r.createElement(me.a,{className:c.editabletext,name:"title",value:l.title,placeholder:"Enter a value",onSave:d}))),r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{item:!0,sm:3},r.createElement(h.a,{className:c.label},"Location:")),r.createElement(ee.a,{item:!0,sm:9},r.createElement(me.a,{className:c.editabletext,name:"location",value:l.location,placeholder:"Enter a value",onSave:d}))),r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{item:!0,sm:3},r.createElement(h.a,{className:c.label},"Date Applied:")),r.createElement(ee.a,{item:!0,sm:9},r.createElement(me.a,{className:c.editabletext,name:"dateApplied",value:l.dateApplied,placeholder:"Enter a value",onSave:d}))),r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{item:!0,sm:3},r.createElement(h.a,{className:c.label},"Post URL:")),r.createElement(ee.a,{item:!0,sm:9},r.createElement(me.a,{className:c.editabletext,name:"postUrl",value:l.postUrl,placeholder:"Enter a value",onSave:d}))),r.createElement(ee.a,{container:!0,spacing:1},r.createElement(ee.a,{item:!0,sm:3},r.createElement(h.a,{className:c.label},"Description:")),r.createElement(ee.a,{item:!0,sm:9,className:c.textareaWrapper},r.createElement(B.a,{InputProps:{className:c.textarea},id:"outlined-multiline-static",multiline:!0,fullWidth:!0,rows:4,value:l.description,placeholder:"Enter a value",variant:"outlined"}))))),r.createElement(de,{value:m,index:1},r.createElement(ne.a,null,"Notes section under development")),r.createElement(de,{value:m,index:2},r.createElement(ne.a,null,"Interviews section under development"))))})),ge=a(83),fe=a.n(ge),he=a(97),Oe=a(287),ve=a.n(Oe),Ce=a(312),je=a(286),ye=a.n(je),xe=a(100),Ne=Object(O.a)({root:{cursor:"grab"},deleteIcon:{opacity:1,transition:"0.3s"},hiddenDeleteIcon:{opacity:0},title:{fontSize:"16px",fontWeight:500},subTitle:{fontSize:"14px"},cardContent:{padding:0},createdAt:{float:"right",fontSize:"12px",color:"#929292",fontWeight:200}}),Se=Object(l.connect)(null,(function(e){return{dispatchDeleteJob:function(t){return e(c.a.deleteJob(t))}}}))((function(e){var t=e.job,a=e.index,l=e.dispatchDeleteJob,o=Ne(),c=r.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],u=Object(xe.b)(),E=function(){var e=Object(he.a)(fe.a.mark((function e(t,a){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,u({variant:"danger",title:"Are you sure?",description:"Do you wish to delete the job?"});case 3:e.sent&&l(a.id);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.createElement(b.b,{draggableId:t.id,index:a},(function(e){return r.createElement(d.a,Object.assign({onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:o.root,innerRef:e.innerRef},e.draggableProps,e.dragHandleProps),r.createElement(p.a,null,r.createElement(Ce.a,{avatar:r.createElement(R,{company:t.company}),action:r.createElement(le.a,{className:s?o.deleteIcon:o.hiddenDeleteIcon,"aria-label":"delete",onClick:function(e){E(e,t)}},r.createElement(ve.a,null)),title:r.createElement("span",{className:o.title},t.company.name),subheader:r.createElement("span",{className:o.subTitle},t.title)}),r.createElement(p.a,{className:o.cardContent},r.createElement("span",{className:o.createdAt},"Added ",r.createElement(ye.a,{fromNow:!0},t.createdAt)))))}))})),Be=a(18),Ie=Object(O.a)((function(e){return Object(v.a)({root:{marginTop:e.spacing(3)}})})),Ae=Object(i.a)([o.c.GET_BOARD_COLUMNS,c.c.GET_JOBS_BOARD]),Je=Object(s.a)([o.c.GET_BOARD_COLUMNS,c.c.GET_JOBS_BOARD]),Te=Object(l.connect)((function(e){return{selectedBoard:e.dashboard.board,jobs:e.job.groupedJobs,boardColumns:e.boardColumn.boardColumns,isLoading:Ae(e),error:Je(e)}}),(function(e){return{dispatchGetJobsByBoard:function(t){return e(c.a.getJobsByBoard(t))},dispatchGetBoardColumns:function(){return e(o.a.getBoardColumns())},dispatchMoveJob:function(t,a,n){return e(c.a.moveJob(t,a,n))},dispatchMoveJobUI:function(t,a,n,r){return e(c.a.moveJobUI(t,a,n,r))},dispatchClearErrors:function(){return e(o.a.clearErrors())}}}));t.default=Te((function(e){var t=e.selectedBoard,a=e.jobs,l=e.boardColumns,o=e.isLoading,c=(e.error,e.dispatchGetBoardColumns),i=e.dispatchGetJobsByBoard,s=e.dispatchMoveJob,d=e.dispatchMoveJobUI,p=(e.dispatchClearErrors,r.useState(null)),E=Object(n.a)(p,2),g=E[0],f=E[1],h=Ie();r.useEffect((function(){t&&(c(),i(t.id))}),[c,i,t]);var O=r.useMemo((function(){return r.createElement(Ee,{open:Boolean(g),job:g,onClose:function(){f(null)}})}),[g]);return o?r.createElement(m.a,null):null===t?r.createElement(u.a,{to:"/dashboard"}):r.createElement(r.Fragment,null,r.createElement(b.a,{onDragEnd:function(e){var t=e.destination,n=e.source,r=e.draggableId;if(t&&!Object(Be.isEqual)(n,t)){var l=t.droppableId,o=t.droppableId===n.droppableId?0:-1,c=t.index>0?a[l][t.index+o].id:void 0;d(n.droppableId,t.droppableId,n.index,t.index),s(r,l,c)}}},r.createElement($.a,{className:h.root,maxWidth:"xl"},r.createElement(r.Fragment,null,O),r.createElement(ee.a,{container:!0,spacing:2},l&&l.length>0&&l.map((function(e){return r.createElement(ee.a,{key:e.id,item:!0,sm:6,md:3},r.createElement(Z,{boardColumn:e,jobCount:a&&a[e.id]?a[e.id].length:0},a&&a[e.id]&&a[e.id].map((function(e,t){return r.createElement("div",{id:e.id,key:e.id,onClick:function(){f(e)}},r.createElement(Se,{job:e,index:t}))}))))}))))))}))}}]);
//# sourceMappingURL=6.57a261fe.chunk.js.map